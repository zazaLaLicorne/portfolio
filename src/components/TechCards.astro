---
import { Image } from "astro:assets";

interface Props {
  size?: "sm" | "md" | "lg";
}

const { size = "md" } = Astro.props;

// Catégories + PNG
const categories = [
  {
    title: "Conception & Suivi Projet",
    techs: [
      { name: "Figma", icon: "/icons/figma.webp" },
      { name: "Canva", icon: "/icons/canva.webp" },
      { name: "Notion", icon: "/icons/notion.webp" },
    ],
  },
  {
    title: "Langages",
    techs: [
      { name: "JavaScript", icon: "/icons/js.webp" },
      { name: "TypeScript", icon: "/icons/ts.webp" },
      { name: "HTML5", icon: "/icons/html.webp" },
      { name: "CSS3", icon: "/icons/css.webp" },
    ],
  },
  {
    title: "Framework Front",
    techs: [
      { name: "React", icon: "/icons/reac.webp" },
      {name: "React Native", icon: "/icons/reactnative.webp"},
      { name: "Astro", icon: "/icons/astro.webp" },
      { name: "Next.js", icon: "/icons/next.webp" },
    ],
  },
  {
    title: "Backend & BDD",
    techs: [
      { name: "Node.js", icon: "/icons/node.webp" },
      { name: "MongoDB", icon: "/icons/mongo.webp" },
      { name: "Express", icon: "/icons/express.webp" },
      
      
    ],
  },
  {
    title: "Bibliothèques CSS",
    techs: [
      { name: "TailwindCss", icon: "/icons/tailwind.webp" },
      { name: "Daisy UI", icon: "/icons/daisyui.webp" },
      { name: "Shadcn/UI", icon: "/icons/shadcnui.webp" }
      
    ],
  },
   {
    title: "Outils",
    techs: [
      { name: "GitHub", icon: "/icons/github.webp" },
      { name: "Vercel", icon: "/icons/vercel.webp" },
      { name: "Google Analytics", icon: "/icons/ga.webp" },
      { name: "Google Search Console", icon: "/icons/gsc.webp" },
      { name: "VSCode", icon: "/icons/vscode.webp" },
      { name: "Cloudinary", icon: "/icons/cloudinary.webp" },
      
      
    ],
  },
];

const sizeClasses = {
  sm: "w-10 h-10",
  md: "w-16 h-16",
  lg: "w-20 h-20",
};
---

<div class="grid gap-8 md:grid-cols-2 lg:grid-cols-3" >
  {categories.map((category, index) => (
    <div class="card glass flex flex-col items-center p-6" data-aos="fade-up"
      data-aos-delay={index * 100}>
      <h3 class="mb-4 text-xl font-bold">{category.title}</h3>

      <div class="flex flex-wrap justify-center gap-4">
        {category.techs.map(tech => (
          <div class="flex flex-col items-center justify-center transition-transform hover:scale-110">
            <Image
              src={tech.icon}
              alt={tech.name}
              width={100}
              height={100}
              class={`rounded-md object-contain ${sizeClasses[size]}`}
              loading="lazy"
            />
            <span class="text-sm text-center mt-2">{tech.name}</span>
          </div>
        ))}
      </div>
    </div>
  ))}
</div>

<style>
  .card {
    transition: transform 0.3s ease, box-shadow 0.3s ease;
  }
  .card:hover {
    transform: translateY(-4px) scale(1.02);
    box-shadow: var(--shadow-lg);
  }

  img {
    transition: transform 0.3s ease, filter 0.3s ease;
  }

  img:hover {
    animation: pulse 1.5s ease-in-out infinite;
    transform: scale(1.15);
  }

  @keyframes pulse {
    0%, 100% {
      transform: scale(1.0);
      filter: brightness(1);
    }
    50% {
      transform: scale(1.1);
      filter: brightness(1.25);
    }
  }
</style>
