---
import "../styles/cardverticale.css";
import Badge from "./Badge.astro";
import Button from "./Button.astro";
import { Image } from "astro:assets";

const {
  projet,
  image,
  alt = "Illustration",
  badgeLabel = "Freelance",
  badgeColor = "var(--freelance)",
  title = "Titre du projet",
  description = "Petite description du projet pour donner envie de cliquer.",
  link = "#",
  buttonLabel = "Voir le projet",
} = Astro.props;

const slug = projet?.slug;
const href = link && link !== "#" ? link : (projet ? `/projets/${projet.slug}/` : "#");

---

<div class="card">
  <div class="card-image">
    <Image src={image} alt={alt} width={800} height={500} loading="lazy" />
    <div class="badge-container">
      <Badge label={badgeLabel} color={badgeColor} />
    </div>
  </div>

  <div class="card-content">
    <h3 class="card-title">{title}</h3>
    <p class="card-desc" set:html={description}></p>
    <div class="card-footer">
      <a href={href}>
        <Button label={buttonLabel} variant="gradient" />
      </a>
    </div>
  </div>
</div>
